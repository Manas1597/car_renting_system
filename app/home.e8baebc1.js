var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},t=e.parcelRequire98c7;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,n){a[e]=n},e.parcelRequire98c7=t),t("3gXC5"),t("ic7rk"),t("9NZOq");var i=t("fDite"),s=t("8tiXn");var o=new class{#e=document.querySelector(".cars");#n=document.querySelector(".view-title");#a=document.querySelector(".car-info");#t=document.querySelector(".view-footer");#i=document.querySelector(".carousel-inner");#s=document.querySelector(".error-message");#o=this.#s.querySelector(".message");payContainer=document.querySelector(".payment-container");modal=!1;openCard;#r=function(){this.#s.classList.remove("hide"),this.#o.textContent="no cars found"};#c(){this.#s.classList.add("hide")}#l=e=>{e.querySelector(".card-img-top").classList.remove("img-active"),e.querySelector(".btn-view").classList.add("hidden"),e.classList.remove("card-active")};#d=function(e){if(this.modal)return;const n=e.querySelector(".card"),a=document.querySelector(".card-active");n.querySelector(".card-img-top").classList.toggle("img-active"),n.querySelector(".btn-view").classList.toggle("hidden"),n.classList.toggle("card-active"),a&&a!==n&&this.#l(a)};setModal(){this.modal=!0}clearModal(){this.modal=!1}#p(){this.modal=!1;const e=document.querySelector(".card-active");e&&(e.querySelector(".card-img-top").classList.toggle("img-active"),e.querySelector(".btn-view").classList.toggle("hidden"),e.classList.toggle("card-active"))}handle(){[...document.querySelectorAll(".card-container")].forEach((e=>{e.addEventListener("mouseover",this.#d.bind(this,e)),e.addEventListener("mouseout",this.#d.bind(this,e))})),document.querySelectorAll(".btn-close-modal").forEach((e=>e.addEventListener("click",this.#p.bind(this))))}render(e){const n=document.createDocumentFragment();this.#c(),this.#e.innerHTML="",e.length>0?(e.forEach((e=>{const a=document.createElement("div");a.classList="card-container",a.insertAdjacentHTML("afterbegin",this.#u(e)),n.appendChild(a)})),this.#e.appendChild(n)):this.#r(),document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((e=>{new bootstrap.Tooltip(e)}))}#u(e){let n=e.brand;return n=n.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" "),n.length<4&&(n=n.toUpperCase()),`\n        <div class = "card" data-car-id ="${e.car_id}" data-region="${e.region}">\n            <div class="card-header">\n              <h3 class="car-brand">${n} ${e.model.toUpperCase()}</h3>\n              <div></div>\n\n              <span class="car-type">${e.type.length<4?e.type.toUpperCase():e.type[0].toUpperCase()+e.type.slice(1).toLowerCase()}</span>\n            </div>\n\n            <div class="img-container mx-auto mb-3">\n              <img\n                src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}"\n                class="card-img-top "\n                alt="${e.brand} car photo"\n              />\n            </div>\n\n            <div class="card-body mx-2">\n              <div class="seating-label">\n                <ion-icon class="car-icon" name="person"></ion-icon>\n                <span class="car-seating">${e.seating}</span>\n              </div>\n\n              <button class="region-label" data-bs-toggle="tooltip"\n                data-bs-placement="top"\n                data-bs-custom-class="custom-tooltip"\n                data-bs-title="${e.region.length<4?e.region.toUpperCase():e.region[0].toUpperCase()+e.region.slice(1).toLowerCase()}" \n                >\n                <ion-icon \n                 \n                class="car-icon" name="location-sharp"></ion-icon>\n                <span class="car-region">${e.cca3.toUpperCase()}</span>\n              </button>\n\n              <div class="rate-label">\n                <span class="currency">$</span>\n                <span class="car-amount me-1">${e.rate}</span>\n                <span class="car-rate">/d</span>\n              </div>\n              \n              <button\n               class="btn btn-primary btn-view hidden mt-4"\n               data-bs-toggle="modal"\n               data-bs-target="#car-info"\n              >view</button>\n            </div>\n          </div>\n  `}renderCarView(e){let n=e.brand;n=n.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" "),n.length<4&&(n=n.toUpperCase()),this.#n.textContent=n+" "+e.model.toUpperCase(),this.#i.innerHTML=this.#m(e),this.#a.innerHTML=this.#v(e,n),this.#t.innerHTML=this.#g()}#v(e,n){return`\n    <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="construct"></ion-icon>\n                </div>\n                <div class="info-text">${n}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="speedometer"></ion-icon>\n                </div>\n                <div class="info-text">${e.model.toUpperCase()}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="calendar-number"></ion-icon>\n                </div>\n                <div class="info-text">${e.year}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="settings"></ion-icon>\n                </div>\n                <div class="info-text">${e.transmission[0].toUpperCase()+e.transmission.slice(1).toLowerCase()}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <svg\n                    xmlns="http://www.w3.org/2000/svg"\n                    viewBox="0 0 24 24"\n                    fill="currentColor"\n                    class="w-6 h-6"\n                  >\n                    <path\n                      fill-rule="evenodd"\n                      d="M1.5 7.125c0-1.036.84-1.875 1.875-1.875h6c1.036 0 1.875.84 1.875 1.875v3.75c0 1.036-.84 1.875-1.875 1.875h-6A1.875 1.875 0 011.5 10.875v-3.75zm12 1.5c0-1.036.84-1.875 1.875-1.875h5.25c1.035 0 1.875.84 1.875 1.875v8.25c0 1.035-.84 1.875-1.875 1.875h-5.25a1.875 1.875 0 01-1.875-1.875v-8.25zM3 16.125c0-1.036.84-1.875 1.875-1.875h5.25c1.036 0 1.875.84 1.875 1.875v2.25c0 1.035-.84 1.875-1.875 1.875h-5.25A1.875 1.875 0 013 18.375v-2.25z"\n                      clip-rule="evenodd"\n                    />\n                  </svg>\n                </div>\n                <div class="info-text">${e.type[0].toUpperCase()+e.type.slice(1).toLowerCase()}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="flash"></ion-icon>\n                </div>\n                <div class="info-text">${e.powertrain[0].toUpperCase()+e.powertrain.slice(1).toLowerCase()}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="person"></ion-icon>\n                </div>\n                <div class="info-text">${e.seating}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="color-palette"></ion-icon>\n                </div>\n                <div class="info-text">${e.color[0].toUpperCase()+e.color.slice(1).toLowerCase()}</div>\n              </div>\n\n              <div class="field">\n                <div class="info-icon">\n                  <ion-icon name="logo-usd"></ion-icon>\n                </div>\n                <div class="info-text">${e.rate}<span class="car-rate">/d</span></div>\n              </div>\n             \n               <div class="field \n              ">\n                <div class="info-icon">\n                  <ion-icon name="car-sport"></ion-icon>\n                </div>\n                <div class="info-text">${e.plate_no}</div>\n              </div>\n\n              <div class="field \n              ">\n                <div class="info-icon">\n                  <ion-icon name="location-sharp"></ion-icon>\n                </div>\n                <div class="info-text">${e.region.length<4?e.region.toUpperCase():e.region[0].toUpperCase()+e.region.slice(1).toLowerCase()}</div>\n              </div>\n\n\n               ${"reserved"===e.status||"rented"===e.status?`\n                <div class="field">\n                  <div class="info-icon">\n                    <ion-icon name="calendar-number"></ion-icon>\n                  </div>\n                  <div class="info-text"><span class="pay-sub">reserve date</span>${e.date.split("T")[0]}</div>\n                </div>\n\n                <div class="field info-date">\n                  <div class="info-icon me-3">\n                    <ion-icon name="calendar"></ion-icon>\n                  </div>\n                  <div class="info-text me-2"><span class="pay-sub">pick-up date</span>${e.pickup.split("T")[0]}</div>\n                  <div class="info-text"><span class="pay-sub">drop-off date</span>${e.drop.split("T")[0]}</div>\n                </div>\n\n                <div class="field info-order">\n                  <div class="info-icon me-3">\n                    <ion-icon name="cube"></ion-icon>\n                  </div>\n                  <div class="info-text me-2"><span class="pay-sub">reservation number</span>${e.resId}</div>\n                </div>\n              `:""}\n    `}#g(){return'\n            <button  \n            type="button" class="btn btn-primary btn-reserve disabled">Sign to reserve</button>'}#m(e){return`\n    <div class="carousel-item active">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>\n                <div class="carousel-item">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}&angle=09"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>\n                <div class="carousel-item">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}&angle=22"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>\n                <div class="carousel-item">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}&angle=23"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>\n                <div class="carousel-item">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}&angle=13"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>\n                <div class="carousel-item">\n                  <img\n                    src="https://cdn.imagin.studio/getImage?customer=egalexu&target=make&make=${e.brand}&modelFamily=${e.model}&modelYear=${e.year}&paintId=imagin-${e.color}&angle=29"\n                    class="d-block w-100"\n                    alt="..."\n                  />\n                </div>`}renderPayments(e){this.payContainer.innerHTML="",e.forEach((e=>{let n=e.brand;n=n.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" "),n.length<4&&(n=n.toUpperCase());const a=`\n    <div class="payment ${e.status?"paid":""}" data-order-id="${e.orderId}" data-car-id="${e.car_id}">\n        <div class="pay-car">${n+" "+e.model.toUpperCase()}</div>\n        <div class="pay-rate"><span class="pay-sub">rate/day</span>$${e.rate}</div>\n\n        <div class="pay-status">\n          <ion-icon class="pay-icon ${e.status?"hide":""}" name="close-outline"></ion-icon>\n          <ion-icon\n            class="pay-icon pay-check ${e.status?"":"hide"}"\n            name="checkmark-outline"\n          ></ion-icon>\n        </div>\n\n        <div class="pay-date">\n          <span class="pay-sub">Order number</span> ${e.orderId}\n        </div>\n        <div class="pay-total"><span class="pay-sub">Total ${e.status?`(${e.method})`:""}</span>$${e.payment}</div>\n\n        <div class="pay-footer">\n          <div class="pay-date">\n            <span class="pay-sub">Pick-up Date</span>${e.pickup.split("T")[0]}\n          </div>\n          <div class="pay-date">\n            <span class="pay-sub">Drop-off Date</span>${e.drop.split("T")[0]}\n          </div>\n          <div class="pay-date">\n            <span class="pay-sub">Return Date</span>${e.return.split("T")[0]}\n          </div>\n          <div class="pay-date">\n            <span class="pay-sub">payment Date</span>${e.payDate?`${e.payDate.split("T")[0]}`:"-"}\n          </div>\n          <div class="pay-date">\n            <span class="pay-sub">Duration</span>${e.duration}\n            <span class="pay-sub">days</span>\n          </div>\n        </div>\n        <button type="button" data-bs-toggle="modal" data-bs-target="#pay" class="btn btn-primary btn-pay ${e.status?"hide":""}">pay</button>\n        <button type="button" class="btn btn-primary btn-paid disabled ${e.status?"":"hide"}">\n          paid\n        </button>\n      </div>\n      `;this.payContainer.insertAdjacentHTML("beforeend",a)}))}},r=t("7PUg4");document.querySelector(".app-container"),document.querySelector(".payment-container"),document.querySelector("#car-info");const c=document.querySelector(".alert");let l,d;const p=function(e,n=!0){c.textContent=e,c.classList.toggle("alert-hide"),c.classList.toggle(""+(n?"alert-success":"alert-danger")),setTimeout((()=>{c.classList.toggle("alert-hide"),c.classList.toggle(""+(n?"alert-success":"alert-danger")),c.textContent=""}),3e3)},u=function(){document.querySelectorAll(".btn-view").forEach((e=>{const n=e.closest(".card").dataset.carId;e.addEventListener("click",(()=>{o.setModal(),d=v().filter((e=>e.car_id===n))[0],o.renderCarView(d),document.querySelector(".btn-reserve").addEventListener("click",(async()=>{let e=d.brand;e=e.split(" ").map((e=>e[0].toUpperCase()+e.slice(1).toLowerCase())).join(" ")}))}))}))},m=()=>{i.state.filters.forEach((e=>{s.default.renderFilter(e)})),s.default.addFiltersHandler()},v=()=>i.state.cars,g=function(){let e=[],n=!1;const a=v();Object.entries(i.state.userFilters).forEach((t=>{const i=[];if("seating"===t[0]&&t[1]>1)return i.push(...a.filter((e=>e.seating===t[1]))),n?e=e.filter((e=>i.includes(e))):e.push(...i),void(n=!0);if("region"===t[0]&&t[1]&&"-"!=t[1])return i.push(...a.filter((e=>e.cca2===t[1].toUpperCase()))),n?e=e.filter((e=>i.includes(e))):e.push(...i),void(n=!0);if("range"===t[0]&&t[1].length>0){const s=t[1][0],o=t[1][1];return i.push(...a.filter((e=>+e.rate>=s&&+e.rate<=o))),"year"===t[0]&&t[1]>0?(i.push(...a.filter((e=>e.year===t[1]))),n?e=e.filter((e=>i.includes(e))):e.push(...i),void(n=!0)):(n?e=e.filter((e=>i.includes(e))):e.push(...i),void(n=!0))}const s=t[1];s.length>0&&(s.forEach((e=>{i.push(...a.filter((n=>n[t[0]]===e)))})),n?e=e.filter((e=>i.includes(e))):e.push(...i),n=!0)})),n?o.render(e):o.render(a),o.handle(),u(),e.length>0?p("Showing filter results"):p("No data found",!1),l=!0},f=function(){s.default.reset(),i.state.userFilters={type:[],transmission:[],brand:[],powertrain:[],color:[],seating:1,region:"",range:[],year:0},document.querySelectorAll(".open").forEach((e=>{e.closest(".btn-filter").ariaExpanded=!1,e.closest(".filter").querySelector(".show").classList.remove("show"),e.classList.remove("open"),e.closest(".btn-filter").querySelector(".rotate").classList.remove("rotate")})),y(),u(),l=!1},y=function(){o.clearModal(),o.render(v()),o.handle(),u(),l&&g()};document.querySelector("footer").innerHTML=`\n      Copyrights &copy; ${(new Date).getFullYear()} Amr Yasser, Marwan Khaled, and Begad Wael\n`,(async()=>{const e=await i.getCountries();s.default.initUI(e),await i.getData(),o.render(i.state.cars,i.state.favourites),o.handle(),m(),document.querySelector(".btn-apply").addEventListener("click",g.bind()),document.querySelector(".btn-reset").addEventListener("click",f.bind()),document.querySelector(".btn-join").addEventListener("click",(()=>window.location=`${r.SERVER_URL}/createAccount`)),document.querySelector(".btn-signIn").addEventListener("click",(()=>window.location=`${r.SERVER_URL}/logIn`)),u()})();
//# sourceMappingURL=home.e8baebc1.js.map
