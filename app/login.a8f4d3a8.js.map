{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAKA,MAAMC,EAAOC,SAASC,cAAc,SAC9BC,EAAQF,SAASC,cAAc,UAenCF,EAAKI,iBAAiB,UAAUC,MAAOC,IACrCA,EAAEC,iBACF,MAAMC,EAAOR,EAAKS,gBAIlB,GAFAT,EAAKU,UAAUC,IAAI,kBAEdH,EAEH,YADAF,EAAEM,kBAIJ,MAAMC,EAAW,IAAIC,SAASd,GACxBe,EAAY,CAAC,EAOnB,GALA,IAAIF,EAASG,WAAWC,SACrBC,GAAWH,EAAUG,EAAM,IAAMA,EAAM,YAExBpB,EAAAqB,OAAaJ,GAK7B,OAnCYV,eAAgBe,EAASZ,GAAO,GAChDL,EAAMkB,YAAcD,EACpBjB,EAAMO,UAAUY,OAAO,cACvBnB,EAAMO,UAAUY,OAAUd,EAAO,gBAAkB,gBAEnDe,YAAW,KACTpB,EAAMO,UAAUY,OAAO,cACvBnB,EAAMO,UAAUY,OAAUd,EAAO,gBAAkB,gBACnDL,EAAMkB,YAAc,KACnB,IACL,CAuBMG,CAAU,+BAA+B,QACzCxB,EAAKU,UAAUe,OAAO,iBAIxBC,OAAOC,SAAW,GAAGC,EAAAC,aAAa,IAItC5B,SAASC,cAAc,YAAYE,iBAAiB,SAAS,KAC3DsB,OAAOC,SAAW,GAAGC,EAAAC,0BAA0B,IAGjD5B,SAASC,cAAc,UAAU4B,UAAY,8B","sources":["website/src/js/login.js"],"sourcesContent":["\"use strict\";\r\n\r\nimport * as model from \"./model.js\";\r\nimport { SERVER_URL } from \"./config.js\";\r\n\r\nconst form = document.querySelector(\".form\");\r\nconst alert = document.querySelector(\".alert\");\r\n\r\nconst showAlert = async function (message, flag = true) {\r\n  alert.textContent = message;\r\n  alert.classList.toggle(\"alert-hide\");\r\n  alert.classList.toggle(`${flag ? \"alert-success\" : \"alert-danger\"}`);\r\n\r\n  setTimeout(() => {\r\n    alert.classList.toggle(\"alert-hide\");\r\n    alert.classList.toggle(`${flag ? \"alert-success\" : \"alert-danger\"}`);\r\n    alert.textContent = \"\";\r\n  }, 3000);\r\n};\r\n\r\n(() => {\r\n  form.addEventListener(\"submit\", async (e) => {\r\n    e.preventDefault();\r\n    const flag = form.checkValidity();\r\n\r\n    form.classList.add(\"was-validated\");\r\n\r\n    if (!flag) {\r\n      e.stopPropagation();\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData(form);\r\n    const loginData = {};\r\n\r\n    [...formData.entries()].forEach(\r\n      (entry) => (loginData[entry[0]] = entry[1])\r\n    );\r\n    const res = await model.signIn(loginData);\r\n\r\n    if (!res) {\r\n      showAlert(\"Wrong user name or password\", false);\r\n      form.classList.remove(\"was-validated\");\r\n      return;\r\n    }\r\n\r\n    window.location = `${SERVER_URL}/`;\r\n  });\r\n})();\r\n\r\ndocument.querySelector(\".sign-up\").addEventListener(\"click\", () => {\r\n  window.location = `${SERVER_URL}/createAccount`;\r\n});\r\n\r\ndocument.querySelector(\"footer\").innerHTML = `\r\n      Copyrights &copy; ${new Date().getFullYear()} Amr Yasser, Marwan Khaled, and Begad Wael\r\n`;\r\n"],"names":["$fDite","parcelRequire","$da889c79c62763c3$var$form","document","querySelector","$da889c79c62763c3$var$alert","addEventListener","async","e","preventDefault","flag","checkValidity","classList","add","stopPropagation","formData","FormData","loginData","entries","forEach","entry","signIn","message","textContent","toggle","setTimeout","$da889c79c62763c3$var$showAlert","remove","window","location","$7PUg4","SERVER_URL","innerHTML"],"version":3,"file":"login.a8f4d3a8.js.map"}